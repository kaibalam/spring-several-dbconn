2024-05-27 14:17:54,728 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 25944 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 14:17:54,744 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 14:17:54,867 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 14:17:54,869 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 14:17:54,869 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 14:17:54,870 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 14:17:54,870 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 14:17:56,239 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 14:17:56,240 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 14:17:56,502 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 241ms. Found 2 JPA repository interfaces.
2024-05-27 14:17:57,417 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$ecb5462a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 14:17:57,454 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 14:17:58,761 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 14:17:58,780 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 14:17:58,780 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 14:17:58,781 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 14:17:59,056 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 14:17:59,057 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4186 ms
2024-05-27 14:17:59,153 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 14:17:59,434 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 14:17:59,591 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 14:17:59,861 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 14:18:00,317 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 14:18:00,321 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 14:18:01,883 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 14:18:01,902 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 14:18:04,822 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 14:18:04,831 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 14:18:04,849 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 14:18:05,243 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 14:18:05,640 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 14:18:07,392 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 14:18:07,421 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 14:18:07,448 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 14:18:07,451 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 13.736 seconds (JVM running for 15.048)
2024-05-27 14:19:08,286 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 14:19:08,287 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 14:19:08,298 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 11 ms
2024-05-27 14:19:09,093 INFO org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-3] Init duration for springdoc-openapi is: 607 ms
2024-05-27 14:32:30,558 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 14:32:30,558 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 14:32:30,558 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 14:32:31,630 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 14:40:19,610 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 2964 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 14:40:19,614 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 14:40:19,688 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 14:40:19,689 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 14:40:19,689 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 14:40:19,689 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 14:40:19,689 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 14:40:20,748 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 14:40:20,749 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 14:40:20,966 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 204ms. Found 2 JPA repository interfaces.
2024-05-27 14:40:21,626 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$6a5d744] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 14:40:21,663 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 14:40:22,901 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 14:40:22,914 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 14:40:22,915 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 14:40:22,916 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 14:40:23,238 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 14:40:23,238 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 3549 ms
2024-05-27 14:40:23,318 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 14:40:23,561 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 14:40:23,686 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 14:40:23,878 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 14:40:24,207 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 14:40:24,212 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 14:40:25,780 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 14:40:25,794 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 14:40:28,611 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 14:40:28,617 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 14:40:28,633 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 14:40:29,088 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 14:40:29,484 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 14:40:30,905 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 14:40:30,931 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 14:40:30,954 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 14:40:30,957 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 12.238 seconds (JVM running for 13.432)
2024-05-27 14:41:13,889 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 14:41:13,890 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 14:41:13,897 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 7 ms
2024-05-27 14:41:14,732 INFO org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-3] Init duration for springdoc-openapi is: 664 ms
2024-05-27 15:03:00,383 INFO com.claro.proceso.migracion.pospago.api.services.mactpre.impl.MigrationOrdersServiceImpl [http-nio-8080-exec-6] Buscar si hay orden para este número
2024-05-27 15:03:00,701 INFO com.claro.proceso.migracion.pospago.api.services.mactpre.impl.MigrationOrdersServiceImpl [http-nio-8080-exec-6] El número ya posee una orden anterior de migración
2024-05-27 15:03:01,109 INFO com.claro.proceso.migracion.pospago.api.services.mactpre.impl.MigrationOrdersServiceImpl [http-nio-8080-exec-6] Registro de orden eliminada!
2024-05-27 15:24:11,407 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-10] Obtener datos del cliente
2024-05-27 15:24:11,408 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-10] Obteniendo datos del cliente desde bscs...
2024-05-27 15:24:11,456 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-10] HikariPool-2 - Starting...
2024-05-27 15:24:11,456 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-10] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 15:24:11,671 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-10] HikariPool-2 - Start completed.
2024-05-27 15:24:11,765 INFO com.claro.proceso.migracion.pospago.api.models.bscs.mapper.ClientMapper [http-nio-8080-exec-10] ResultSet 0
2024-05-27 15:24:11,856 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-10] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 15:24:11,856 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-10] Se valida el tipo de linea
2024-05-27 15:24:11,857 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-10] WebRequest limpiando el cache en SPR...
2024-05-27 15:24:12,117 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-10] Se limpió el cache en SPR {"code":0,"description":"Successful Transaction"}
2024-05-27 15:24:12,117 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-10] WebRequest Obteniendo resultado en SPR...
2024-05-27 15:24:12,346 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-10] Response de consulta SPR {"exitStatus":{"code":0,"description":"Successful Transaction"},"paymentMethodInd":"H","iso3166":"GT","imsi":"704012085633905","transactionId":"7be3a11e-272a-4be8-8d31-079f9f0ffd16","parameters":{"companyRange.companyId":"3","companyRange.companyName":"CLARO GT","companyRange.max":"50255179999","companyRange.min":"50255110000","isBroadband":"false","isCorp":"true","isDTHProfileId":"false","isIFI":"false","isMigrated":"true","platform":["BSCS_VIII","TECNOMEN"],"profileId":"116","tecnomenAccountStatus":"2","tecnomenServiceStatus":"1"}}
2024-05-27 15:24:12,350 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-10] El tipo de linea es: HIBRIDO
2024-05-27 15:24:12,418 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-10] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 15:24:12,465 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-10] HikariPool-3 - Starting...
2024-05-27 15:24:12,465 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-10] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 15:24:12,750 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-10] HikariPool-3 - Start completed.
2024-05-27 15:24:12,844 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-10]  Error = [Incorrect result size: expected 1, actual 0]
2024-05-27 16:09:28,148 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 16:09:28,150 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown initiated...
2024-05-27 16:09:28,206 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown completed.
2024-05-27 16:09:28,207 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown initiated...
2024-05-27 16:09:28,359 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown completed.
2024-05-27 16:09:28,360 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 16:09:28,364 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 16:09:28,657 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 16:33:24,811 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 1204 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 16:33:24,814 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 16:33:24,873 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 16:33:24,874 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 16:33:24,874 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 16:33:24,874 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 16:33:24,874 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 16:33:25,559 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 16:33:25,559 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 16:33:25,694 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 127ms. Found 2 JPA repository interfaces.
2024-05-27 16:33:26,230 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$c5830d18] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 16:33:26,260 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 16:33:27,259 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 16:33:27,274 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 16:33:27,275 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 16:33:27,276 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 16:33:27,530 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 16:33:27,530 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2656 ms
2024-05-27 16:33:27,602 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 16:33:27,788 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 16:33:27,879 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 16:33:28,073 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 16:33:28,297 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 16:33:28,299 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 16:33:28,837 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 16:33:28,853 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 16:33:30,122 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 16:33:30,128 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 16:33:30,151 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 16:33:30,567 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 16:33:30,860 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 16:33:32,175 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 16:33:32,199 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 16:33:32,222 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 16:33:32,225 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 8.005 seconds (JVM running for 8.96)
2024-05-27 16:33:35,787 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 16:33:35,788 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 16:33:35,795 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 7 ms
2024-05-27 16:51:26,971 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-4] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@53517b88 (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:51:31,982 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-4] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@1db03b9c (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:51:36,996 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-4] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@32f91952 (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:51:42,010 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-4] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@67266963 (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:51:47,025 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-4] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@439c2b05 (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:51:52,042 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-4] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@7c7300f1 (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:51:52,045 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-4] SQL Error: 0, SQLState: 08003
2024-05-27 16:51:52,046 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-4] HikariPool-1 - Connection is not available, request timed out after 30078ms.
2024-05-27 16:51:52,047 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-4] SQL Error: 17008, SQLState: 08003
2024-05-27 16:51:52,048 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-4] ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/
2024-05-27 16:51:52,066 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-4] Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:448)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:572)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:360)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy103.existsById(Unknown Source)
	at com.claro.proceso.migracion.pospago.api.services.mactpre.impl.ParamsServiceImpl.updaterEntity(ParamsServiceImpl.java:62)
	at com.claro.proceso.migracion.pospago.api.controllers.ParamsController.updateParam(ParamsController.java:50)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:663)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:107)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)
	at org.hibernate.internal.SessionImpl.connection(SessionImpl.java:470)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:266)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle.doGetConnection(HibernateJpaDialect.java:430)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:174)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)
	... 66 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30078ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:689)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:196)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:161)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	... 77 common frames omitted
Caused by: java.sql.SQLRecoverableException: ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/
	at oracle.jdbc.driver.T4CConnection.doSetNetworkTimeout(T4CConnection.java:10028)
	at oracle.jdbc.driver.PhysicalConnection.setNetworkTimeout(PhysicalConnection.java:10517)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:556)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:185)
	... 82 common frames omitted
2024-05-27 16:51:52,081 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-4] Resolved [org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection]
2024-05-27 16:52:12,451 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-5] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@61b8476b (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:52:17,467 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-5] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@119ad049 (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:52:22,486 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-5] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@784678b2 (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:52:27,504 WARN com.zaxxer.hikari.pool.PoolBase [http-nio-8080-exec-5] HikariPool-1 - Failed to validate connection oracle.jdbc.driver.T4CConnection@1caa05a7 (ORA-17008: Conexión cerrada
https://docs.oracle.com/error-help/db/ora-17008/). Possibly consider using a shorter maxLifetime value.
2024-05-27 16:53:11,600 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 16:53:11,601 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 16:53:11,602 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 16:53:11,668 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 16:53:15,307 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 12004 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 16:53:15,310 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 16:53:15,378 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 16:53:15,378 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 16:53:15,378 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 16:53:15,378 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 16:53:15,378 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 16:53:16,043 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 16:53:16,043 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 16:53:16,166 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 114ms. Found 2 JPA repository interfaces.
2024-05-27 16:53:16,697 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$d9f6269a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 16:53:16,722 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 16:53:17,618 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 16:53:17,629 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 16:53:17,629 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 16:53:17,630 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 16:53:17,840 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 16:53:17,841 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2463 ms
2024-05-27 16:53:17,917 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 16:53:18,097 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 16:53:18,175 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 16:53:18,356 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 16:53:18,564 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 16:53:18,566 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 16:53:19,049 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 16:53:19,066 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 16:53:20,215 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 16:53:20,222 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 16:53:20,238 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 16:53:20,578 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 16:53:20,850 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 16:53:21,854 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 16:53:21,874 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 16:53:21,909 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 16:53:21,912 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 7.123 seconds (JVM running for 7.859)
2024-05-27 16:53:29,998 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 16:53:29,998 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 16:53:30,006 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 8 ms
2024-05-27 16:53:39,158 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-3] 404 NOT_FOUNDEl parametro NO existe con el tag GDT_QUERY_CLIENT_DATA ingresado!
2024-05-27 16:53:39,165 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-3] Resolved [com.claro.proceso.migracion.pospago.api.models.responses.ResourceNotFoundException: El parametro NO existe con el tag GDT_QUERY_CLIENT_DATA ingresado!]
2024-05-27 16:55:18,977 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-8] Obtener datos del cliente
2024-05-27 16:55:18,978 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-8] Obteniendo datos del cliente desde bscs...
2024-05-27 16:55:19,100 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-8] HikariPool-2 - Starting...
2024-05-27 16:55:19,101 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-8] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 16:55:19,344 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-8] HikariPool-2 - Start completed.
2024-05-27 16:55:19,419 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-8] StatementCallback; bad SQL grammar [select ndn.dn_num telefono,nca.co_id CONTRATO,nca.customer_id id_cliente,TRUNC(ca.CO_INSTALLED) v_Fecha,ch.CH_SEQNO sec_history,ch.CH_STATUS chistory_status,cca.CCFNAME Nombre,ncca.CCLNAME Apellido,cca.d_type doc_type,cca.passportno documento_no,cca.birthdate,cca.ccsex title_sex,'1174' profile_id,cca.cccity city,cca.ccstreet address,cca.ccline3 district,cca.cssocialsecno nit,TRUNC(ca.co_expir_date) expiration,cu.billcycle ciclo,cd.cd_sm_num simNum,icc.COMBO01 MARCA,icc.COMBO02 MODELO,(SELECT SUM(OH.OHOPNAMT_DOC)FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda,(SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas,ca.tmcode planfrom contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id )order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

https://docs.oracle.com/error-help/db/ora-00923/
org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select ndn.dn_num telefono,nca.co_id CONTRATO,nca.customer_id id_cliente,TRUNC(ca.CO_INSTALLED) v_Fecha,ch.CH_SEQNO sec_history,ch.CH_STATUS chistory_status,cca.CCFNAME Nombre,ncca.CCLNAME Apellido,cca.d_type doc_type,cca.passportno documento_no,cca.birthdate,cca.ccsex title_sex,'1174' profile_id,cca.cccity city,cca.ccstreet address,cca.ccline3 district,cca.cssocialsecno nit,TRUNC(ca.co_expir_date) expiration,cu.billcycle ciclo,cd.cd_sm_num simNum,icc.COMBO01 MARCA,icc.COMBO02 MODELO,(SELECT SUM(OH.OHOPNAMT_DOC)FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda,(SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas,ca.tmcode planfrom contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id )order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

https://docs.oracle.com/error-help/db/ora-00923/
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:93)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)
	at com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl.findByPhoneNumber(BscsServiceImpl.java:62)
	at com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController.getDataClient(BscsDataGatherController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

https://docs.oracle.com/error-help/db/ora-00923/
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1277)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1102)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:456)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:482)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:170)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:998)
	at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1277)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1207)
	at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1543)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1415)
	at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1807)
	at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:380)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	... 55 common frames omitted
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)
	... 72 common frames omitted
2024-05-27 16:55:19,421 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-8] Resolved [org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select ndn.dn_num telefono,nca.co_id CONTRATO,nca.customer_id id_cliente,TRUNC(ca.CO_INSTALLED) v_Fecha,ch.CH_SEQNO sec_history,ch.CH_STATUS chistory_status,cca.CCFNAME Nombre,ncca.CCLNAME Apellido,cca.d_type doc_type,cca.passportno documento_no,cca.birthdate,cca.ccsex title_sex,'1174' profile_id,cca.cccity city,cca.ccstreet address,cca.ccline3 district,cca.cssocialsecno nit,TRUNC(ca.co_expir_date) expiration,cu.billcycle ciclo,cd.cd_sm_num simNum,icc.COMBO01 MARCA,icc.COMBO02 MODELO,(SELECT SUM(OH.OHOPNAMT_DOC)FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda,(SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas,ca.tmcode planfrom contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id )order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

https://docs.oracle.com/error-help/db/ora-00923/]
2024-05-27 17:01:11,464 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-2] Obtener datos del cliente
2024-05-27 17:01:11,464 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-2] Obteniendo datos del cliente desde bscs...
2024-05-27 17:01:11,536 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-2] StatementCallback; bad SQL grammar [select ndn.dn_num telefono, nca.co_id CONTRATO, nca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.d_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select ndn.dn_num telefono, nca.co_id CONTRATO, nca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.d_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)
	at com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl.findByPhoneNumber(BscsServiceImpl.java:62)
	at com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController.getDataClient(BscsDataGatherController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1277)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1102)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:456)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:482)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:170)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:998)
	at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1277)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1207)
	at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1543)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1415)
	at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1807)
	at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:380)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	... 55 common frames omitted
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00936: falta una expresión

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)
	... 72 common frames omitted
2024-05-27 17:01:11,540 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-2] Resolved [org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select ndn.dn_num telefono, nca.co_id CONTRATO, nca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.d_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/]
2024-05-27 17:02:00,812 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-4] Obtener datos del cliente
2024-05-27 17:02:00,813 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-4] Obteniendo datos del cliente desde bscs...
2024-05-27 17:02:00,874 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-4] StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.d_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.d_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)
	at com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl.findByPhoneNumber(BscsServiceImpl.java:62)
	at com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController.getDataClient(BscsDataGatherController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1277)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1102)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:456)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:482)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:170)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:998)
	at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1277)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1207)
	at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1543)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1415)
	at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1807)
	at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:380)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	... 55 common frames omitted
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00936: falta una expresión

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)
	... 72 common frames omitted
2024-05-27 17:02:00,878 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-4] Resolved [org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.d_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/]
2024-05-27 17:03:15,032 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-8] Obtener datos del cliente
2024-05-27 17:03:15,033 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-8] Obteniendo datos del cliente desde bscs...
2024-05-27 17:03:15,083 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-8] StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)
	at com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl.findByPhoneNumber(BscsServiceImpl.java:62)
	at com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController.getDataClient(BscsDataGatherController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1277)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1102)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:456)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:482)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:170)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:998)
	at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1277)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1207)
	at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1543)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1415)
	at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1807)
	at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:380)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	... 55 common frames omitted
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00936: falta una expresión

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)
	... 72 common frames omitted
2024-05-27 17:03:15,085 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-8] Resolved [org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido,cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/]
2024-05-27 17:06:19,447 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-2] Obtener datos del cliente
2024-05-27 17:06:19,448 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-2] Obteniendo datos del cliente desde bscs...
2024-05-27 17:06:19,508 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-2] StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido, cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido, cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)
	at com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl.findByPhoneNumber(BscsServiceImpl.java:62)
	at com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController.getDataClient(BscsDataGatherController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1277)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1102)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:456)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:482)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:170)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:998)
	at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1277)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1207)
	at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1543)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1415)
	at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1807)
	at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:380)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	... 55 common frames omitted
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00936: falta una expresión

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)
	... 72 common frames omitted
2024-05-27 17:06:19,511 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-2] Resolved [org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido, cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/]
2024-05-27 17:06:20,023 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-3] Obtener datos del cliente
2024-05-27 17:06:20,024 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-3] Obteniendo datos del cliente desde bscs...
2024-05-27 17:06:20,089 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-3] StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido, cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido, cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)
	at com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl.findByPhoneNumber(BscsServiceImpl.java:62)
	at com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController.getDataClient(BscsDataGatherController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1277)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1102)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:456)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:482)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:170)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:998)
	at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1277)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1207)
	at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1543)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1415)
	at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1807)
	at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:380)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	... 55 common frames omitted
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00936: falta una expresión

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)
	... 72 common frames omitted
2024-05-27 17:06:20,093 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-3] Resolved [org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select dn.dn_num telefono, ca.co_id CONTRATO, ca.customer_id id_cliente, TRUNC(ca.CO_INSTALLED) v_Fecha, ch.CH_SEQNO sec_history, ch.CH_STATUS chistory_status, cca.CCFNAME Nombre, cca.CCLNAME Apellido, cca.id_type doc_type, cca.passportno documento_no, cca.birthdate, cca.ccsex title_sex,'1174' profile_id, cca.cccity city, cca.ccstreet address, cca.ccline3 district, cca.cssocialsecno nit, TRUNC(ca.co_expir_date) expiration, cu.billcycle ciclo, cd.cd_sm_num simNum, icc.COMBO01 MARCA, icc.COMBO02 MODELO, (SELECT SUM(OH.OHOPNAMT_DOC) FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyy')) deuda, (SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas, ca.tmcode plan from contract_all a inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id inner join directory_number dn on dn.dn_id = csc.dn_id inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id inner join contr_devices cd on cd.co_id = ca.co_id left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id where dn.dn_num = '50255160703' and csc.co_id in SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID) AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID) and CD.CD_SEQNO = SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id) and cca.ccuser = 'X' and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id ) order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00936: falta una expresión

https://docs.oracle.com/error-help/db/ora-00936/]
2024-05-27 17:08:38,219 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-7] Obtener datos del cliente
2024-05-27 17:08:38,219 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-7] Obteniendo datos del cliente desde bscs...
2024-05-27 17:08:38,287 ERROR com.claro.proceso.migracion.pospago.api.config.GlobalExeptionHandler [http-nio-8080-exec-7] StatementCallback; bad SQL grammar [select 
dn.dn_num telefono,
ca.co_id CONTRATO,
ca.customer_id id_cliente,
TRUNC(ca.CO_INSTALLED) v_Fecha,
ch.CH_SEQNO sec_history,
ch.CH_STATUS chistory_status,
cca.CCFNAME Nombre,
cca.CCLNAME Apellido,
cca.id_type doc_type,
cca.passportno documento_no,
cca.birthdate,
cca.ccsex title_sex,
'1174' profile_id,
cca.cccity city,
cca.ccstreet address,
cca.ccline3 district,
cca.cssocialsecno nit,
TRUNC(ca.co_expir_date) expiration,
cu.billcycle ciclo,
cd.cd_sm_num simNum,
icc.COMBO01 MARCA,
icc.COMBO02 MODELO,
(SELECT SUM(OH.OHOPNAMT_DOC)FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) deuda,
(SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas
ca.tmcode plan
from
contract_all ca
inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id
inner join directory_number dn on dn.dn_id = csc.dn_id
inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id
inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id
inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id
inner join contr_devices cd on cd.co_id = ca.co_id
left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id
where
dn.dn_num = '50255160703'
and csc.co_id in (SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID)
AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID)
and CD.CD_SEQNO = (SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id)
and cca.ccuser = 'X'
and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id )
order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

https://docs.oracle.com/error-help/db/ora-00923/
org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select 
dn.dn_num telefono,
ca.co_id CONTRATO,
ca.customer_id id_cliente,
TRUNC(ca.CO_INSTALLED) v_Fecha,
ch.CH_SEQNO sec_history,
ch.CH_STATUS chistory_status,
cca.CCFNAME Nombre,
cca.CCLNAME Apellido,
cca.id_type doc_type,
cca.passportno documento_no,
cca.birthdate,
cca.ccsex title_sex,
'1174' profile_id,
cca.cccity city,
cca.ccstreet address,
cca.ccline3 district,
cca.cssocialsecno nit,
TRUNC(ca.co_expir_date) expiration,
cu.billcycle ciclo,
cd.cd_sm_num simNum,
icc.COMBO01 MARCA,
icc.COMBO02 MODELO,
(SELECT SUM(OH.OHOPNAMT_DOC)FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) deuda,
(SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas
ca.tmcode plan
from
contract_all ca
inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id
inner join directory_number dn on dn.dn_id = csc.dn_id
inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id
inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id
inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id
inner join contr_devices cd on cd.co_id = ca.co_id
left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id
where
dn.dn_num = '50255160703'
and csc.co_id in (SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID)
AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID)
and CD.CD_SEQNO = (SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id)
and cca.ccuser = 'X'
and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id )
order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

https://docs.oracle.com/error-help/db/ora-00923/
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:93)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:388)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)
	at com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl.findByPhoneNumber(BscsServiceImpl.java:62)
	at com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController.getDataClient(BscsDataGatherController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

https://docs.oracle.com/error-help/db/ora-00923/
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1277)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1102)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:456)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:482)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:170)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:998)
	at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1277)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1207)
	at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1543)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1415)
	at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1807)
	at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:380)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	... 55 common frames omitted
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)
	... 72 common frames omitted
2024-05-27 17:08:38,290 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-7] Resolved [org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [select 
dn.dn_num telefono,
ca.co_id CONTRATO,
ca.customer_id id_cliente,
TRUNC(ca.CO_INSTALLED) v_Fecha,
ch.CH_SEQNO sec_history,
ch.CH_STATUS chistory_status,
cca.CCFNAME Nombre,
cca.CCLNAME Apellido,
cca.id_type doc_type,
cca.passportno documento_no,
cca.birthdate,
cca.ccsex title_sex,
'1174' profile_id,
cca.cccity city,
cca.ccstreet address,
cca.ccline3 district,
cca.cssocialsecno nit,
TRUNC(ca.co_expir_date) expiration,
cu.billcycle ciclo,
cd.cd_sm_num simNum,
icc.COMBO01 MARCA,
icc.COMBO02 MODELO,
(SELECT SUM(OH.OHOPNAMT_DOC)FROM SYSADM.ORDERHDR_ALL OH WHERE OH.CUSTOMER_ID = ca.customer_id AND TRUNC(OH.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) deuda,
(SELECT COUNT(*) Total FROM SYSADM.ORDERHDR_ALL ORD WHERE ORD.CUSTOMER_ID = ca.customer_id AND TRUNC(ORD.OHENTDATE) > to_date(TRUNC(ca.CO_INSTALLED),'dd/mm/yyyy')) facturas
ca.tmcode plan
from
contract_all ca
inner join CONTR_SERVICES_CAP csc on csc.co_id = ca.co_id
inner join directory_number dn on dn.dn_id = csc.dn_id
inner join CONTRACT_HISTORY ch on ch.co_id = ca.co_id
inner join CCONTACT_ALL cca on cca.customer_id = ca.customer_id
inner join CUSTOMER_ALL cu on cu.customer_id = ca.customer_id
inner join contr_devices cd on cd.co_id = ca.co_id
left join INFO_CONTR_COMBO icc on icc.co_id = ca.co_id
where
dn.dn_num = '50255160703'
and csc.co_id in (SELECT MAX(cap.co_id) FROM CONTR_SERVICES_CAP cap WHERE cap.dn_id=dn.dn_id GROUP BY CO_ID)
AND CH.CH_SEQNO = (SELECT MAX(hc.CH_SEQNO) FROM CONTRACT_HISTORY hc WHERE hc.co_id=ca.CO_ID GROUP BY CO_ID)
and CD.CD_SEQNO = (SELECT MAX(ccd.CD_SEQNO) from contr_devices ccd where ccd.co_id = ca.co_id)
and cca.ccuser = 'X'
and csc.CS_ACTIV_DATE = (select max(hc.CS_ACTIV_DATE) from CONTR_SERVICES_CAP hc where hc.dn_id = dn.dn_id )
order by ch.CH_STATUS]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00923: palabra clave FROM no encontrada donde se esperaba

https://docs.oracle.com/error-help/db/ora-00923/]
2024-05-27 17:16:14,458 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] Obtener datos del cliente
2024-05-27 17:16:14,458 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] Obteniendo datos del cliente desde bscs...
2024-05-27 17:16:14,578 INFO com.claro.proceso.migracion.pospago.api.models.bscs.mapper.ClientMapper [http-nio-8080-exec-1] ResultSet 0
2024-05-27 17:16:14,695 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:16:14,696 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se valida el tipo de linea
2024-05-27 17:16:14,698 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest limpiando el cache en SPR...
2024-05-27 17:16:15,004 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se limpió el cache en SPR {"code":0,"description":"Successful Transaction"}
2024-05-27 17:16:15,004 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest Obteniendo resultado en SPR...
2024-05-27 17:16:15,143 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Response de consulta SPR {"exitStatus":{"code":0,"description":"Successful Transaction"},"paymentMethodInd":"A","iso3166":"GT","imsi":"704012067371244","transactionId":"31fa207f-9d5b-4a98-9821-71a444ff7c5b","parameters":{"companyRange.companyId":"3","companyRange.companyName":"CLARO GT","companyRange.max":"50255179999","companyRange.min":"50255110000","isBroadband":"false","isDTHProfileId":"false","isIFI":"false","isMigrated":"true","platform":["TECNOMEN"],"profileId":"1036","tecnomenAccountStatus":"2","tecnomenServiceStatus":"1"}}
2024-05-27 17:16:15,146 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] El tipo de linea es: PREPAGO
2024-05-27 17:16:15,192 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:16:15,206 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Starting...
2024-05-27 17:16:15,206 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:16:15,319 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Start completed.
2024-05-27 17:16:15,380 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1]  Error = [Incorrect result size: expected 1, actual 0]
2024-05-27 17:16:15,422 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] No es posible migrar porque noEstaActivo
2024-05-27 17:17:10,619 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 17:17:10,620 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown initiated...
2024-05-27 17:17:10,720 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown completed.
2024-05-27 17:17:10,721 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown initiated...
2024-05-27 17:17:10,952 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown completed.
2024-05-27 17:17:10,953 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:17:10,953 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 17:17:11,082 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 17:17:21,295 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 2980 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 17:17:21,298 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 17:17:21,362 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 17:17:21,362 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 17:17:21,363 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 17:17:21,363 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 17:17:21,363 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 17:17:21,989 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 17:17:21,990 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 17:17:22,110 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 113ms. Found 2 JPA repository interfaces.
2024-05-27 17:17:22,575 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$113b3dd7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 17:17:22,598 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 17:17:23,558 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 17:17:23,567 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 17:17:23,568 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 17:17:23,568 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 17:17:23,785 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 17:17:23,785 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2422 ms
2024-05-27 17:17:23,858 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 17:17:24,058 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 17:17:24,147 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 17:17:24,306 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 17:17:24,530 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 17:17:24,533 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:17:25,042 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 17:17:25,056 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 17:17:26,121 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 17:17:26,127 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:17:26,146 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:17:26,581 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:17:26,857 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 17:17:27,922 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 17:17:27,941 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 17:17:27,962 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 17:17:27,964 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 7.191 seconds (JVM running for 7.788)
2024-05-27 17:17:37,062 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 17:17:37,063 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 17:17:37,071 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 8 ms
2024-05-27 17:17:37,154 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] Obtener datos del cliente
2024-05-27 17:17:37,154 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] Obteniendo datos del cliente desde bscs...
2024-05-27 17:17:37,356 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Starting...
2024-05-27 17:17:37,356 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:17:37,552 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Start completed.
2024-05-27 17:17:37,636 INFO com.claro.proceso.migracion.pospago.api.models.bscs.mapper.ClientMapper [http-nio-8080-exec-1] ResultSet 0
2024-05-27 17:17:37,730 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:17:37,730 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se valida el tipo de linea
2024-05-27 17:17:37,731 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest limpiando el cache en SPR...
2024-05-27 17:17:37,998 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se limpió el cache en SPR {"code":0,"description":"Successful Transaction"}
2024-05-27 17:17:37,999 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest Obteniendo resultado en SPR...
2024-05-27 17:17:38,145 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Response de consulta SPR {"exitStatus":{"code":0,"description":"Successful Transaction"},"paymentMethodInd":"A","iso3166":"GT","imsi":"704012067371244","transactionId":"e76fb8f1-42e5-4456-ac31-0ac2b8ec56cb","parameters":{"companyRange.companyId":"3","companyRange.companyName":"CLARO GT","companyRange.max":"50255179999","companyRange.min":"50255110000","isBroadband":"false","isDTHProfileId":"false","isIFI":"false","isMigrated":"true","platform":["TECNOMEN"],"profileId":"1036","tecnomenAccountStatus":"2","tecnomenServiceStatus":"1"}}
2024-05-27 17:17:38,149 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] El tipo de linea es: PREPAGO
2024-05-27 17:17:38,182 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:17:38,199 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Starting...
2024-05-27 17:17:38,200 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:17:38,355 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Start completed.
2024-05-27 17:17:38,431 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1]  Error = [Incorrect result size: expected 1, actual 0]
2024-05-27 17:17:38,488 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] No es posible migrar porque noEstaActivo
2024-05-27 17:37:27,939 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 17:37:27,940 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown initiated...
2024-05-27 17:37:28,110 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown completed.
2024-05-27 17:37:28,111 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown initiated...
2024-05-27 17:37:28,586 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown completed.
2024-05-27 17:37:28,587 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:37:28,587 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 17:37:28,722 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 17:37:40,307 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 2604 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 17:37:40,311 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 17:37:40,387 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 17:37:40,387 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 17:37:40,387 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 17:37:40,388 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 17:37:40,388 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 17:37:41,122 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 17:37:41,122 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 17:37:41,286 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 153ms. Found 2 JPA repository interfaces.
2024-05-27 17:37:41,939 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$ab5ecf11] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 17:37:41,965 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 17:37:43,134 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 17:37:43,145 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 17:37:43,146 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 17:37:43,146 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 17:37:43,354 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 17:37:43,354 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2966 ms
2024-05-27 17:37:43,438 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 17:37:43,681 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 17:37:43,790 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 17:37:43,937 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 17:37:44,249 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 17:37:44,252 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:37:44,778 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 17:37:44,793 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 17:37:46,068 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 17:37:46,076 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:37:46,093 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:37:46,555 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:37:46,882 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 17:37:47,987 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 17:37:48,006 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 17:37:48,028 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 17:37:48,031 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 8.256 seconds (JVM running for 9.28)
2024-05-27 17:39:51,205 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 17:39:51,206 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:39:51,207 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 17:39:51,271 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 17:39:59,989 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 17764 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 17:39:59,992 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 17:40:00,061 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 17:40:00,061 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 17:40:00,061 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 17:40:00,061 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 17:40:00,062 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 17:40:00,766 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 17:40:00,766 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 17:40:00,897 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 122ms. Found 2 JPA repository interfaces.
2024-05-27 17:40:01,443 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$dcd59783] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 17:40:01,473 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 17:40:02,422 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 17:40:02,431 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 17:40:02,432 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 17:40:02,432 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 17:40:02,652 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 17:40:02,652 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2590 ms
2024-05-27 17:40:02,734 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 17:40:02,962 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 17:40:03,062 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 17:40:03,209 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 17:40:03,525 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 17:40:03,529 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:40:04,057 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 17:40:04,078 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 17:40:05,302 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 17:40:05,310 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:40:05,328 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:40:05,834 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:40:06,158 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 17:40:07,299 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 17:40:07,319 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 17:40:07,337 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 17:40:07,339 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 7.898 seconds (JVM running for 8.569)
2024-05-27 17:40:23,063 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 17:40:23,064 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 17:40:23,070 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 6 ms
2024-05-27 17:40:23,167 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] Obtener datos del cliente
2024-05-27 17:40:23,167 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] Obteniendo datos del cliente desde bscs...
2024-05-27 17:40:23,365 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Starting...
2024-05-27 17:40:23,366 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:40:23,533 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Start completed.
2024-05-27 17:40:23,620 INFO com.claro.proceso.migracion.pospago.api.models.bscs.mapper.ClientMapper [http-nio-8080-exec-1] ResultSet 0
2024-05-27 17:41:11,655 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:41:11,656 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se valida el tipo de linea
2024-05-27 17:41:11,657 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest limpiando el cache en SPR...
2024-05-27 17:41:11,925 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se limpió el cache en SPR {"code":0,"description":"Successful Transaction"}
2024-05-27 17:41:11,926 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest Obteniendo resultado en SPR...
2024-05-27 17:41:12,152 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Response de consulta SPR {"exitStatus":{"code":0,"description":"Successful Transaction"},"paymentMethodInd":"A","iso3166":"GT","imsi":"704012067371244","transactionId":"591a02d3-8e73-4137-ade5-1adcf6c11187","parameters":{"companyRange.companyId":"3","companyRange.companyName":"CLARO GT","companyRange.max":"50255179999","companyRange.min":"50255110000","isBroadband":"false","isDTHProfileId":"false","isIFI":"false","isMigrated":"true","platform":["TECNOMEN"],"profileId":"1036","tecnomenAccountStatus":"2","tecnomenServiceStatus":"1"}}
2024-05-27 17:41:12,157 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] El tipo de linea es: PREPAGO
2024-05-27 17:41:12,196 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:41:12,220 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Starting...
2024-05-27 17:41:12,221 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:41:12,326 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Start completed.
2024-05-27 17:41:12,386 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1]  Error = [Incorrect result size: expected 1, actual 0]
2024-05-27 17:41:12,438 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] No es posible migrar porque noEstaActivo
2024-05-27 17:42:24,526 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 17:42:24,527 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown initiated...
2024-05-27 17:42:24,583 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown completed.
2024-05-27 17:42:24,584 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown initiated...
2024-05-27 17:42:24,764 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown completed.
2024-05-27 17:42:24,764 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:42:24,765 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 17:42:24,811 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 17:42:28,084 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 7484 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 17:42:28,089 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 17:42:28,165 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 17:42:28,165 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 17:42:28,165 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 17:42:28,166 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 17:42:28,166 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 17:42:28,893 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 17:42:28,894 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 17:42:29,040 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 135ms. Found 2 JPA repository interfaces.
2024-05-27 17:42:29,628 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$c7f606ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 17:42:29,667 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 17:42:30,661 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 17:42:30,673 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 17:42:30,674 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 17:42:30,674 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 17:42:30,887 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 17:42:30,888 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2722 ms
2024-05-27 17:42:30,977 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 17:42:31,214 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 17:42:31,314 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 17:42:31,485 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 17:42:31,794 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 17:42:31,798 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:42:32,363 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 17:42:32,377 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 17:42:33,574 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 17:42:33,584 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:42:33,615 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:42:34,109 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:42:34,428 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 17:42:35,773 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 17:42:35,795 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 17:42:35,817 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 17:42:35,820 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 8.271 seconds (JVM running for 9.029)
2024-05-27 17:43:06,902 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 17:43:06,902 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 17:43:06,907 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 5 ms
2024-05-27 17:43:06,999 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] Obtener datos del cliente
2024-05-27 17:43:06,999 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] Obteniendo datos del cliente desde bscs...
2024-05-27 17:43:07,194 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Starting...
2024-05-27 17:43:07,194 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:43:07,374 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Start completed.
2024-05-27 17:43:07,459 INFO com.claro.proceso.migracion.pospago.api.models.bscs.mapper.ClientMapper [http-nio-8080-exec-1] ResultSet 0
2024-05-27 17:44:34,057 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m27s984ms236µs700ns).
2024-05-27 17:44:34,057 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-2 housekeeper] HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m16s541ms539µs800ns).
2024-05-27 17:44:34,196 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:44:34,197 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se valida el tipo de linea
2024-05-27 17:44:34,198 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest limpiando el cache en SPR...
2024-05-27 17:44:34,452 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se limpió el cache en SPR {"code":0,"description":"Successful Transaction"}
2024-05-27 17:44:34,452 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest Obteniendo resultado en SPR...
2024-05-27 17:44:34,633 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Response de consulta SPR {"exitStatus":{"code":0,"description":"Successful Transaction"},"paymentMethodInd":"A","iso3166":"GT","imsi":"704012067371244","transactionId":"d98a738f-e56e-494a-845a-cb57c21cf050","parameters":{"companyRange.companyId":"3","companyRange.companyName":"CLARO GT","companyRange.max":"50255179999","companyRange.min":"50255110000","isBroadband":"false","isDTHProfileId":"false","isIFI":"false","isMigrated":"true","platform":["TECNOMEN"],"profileId":"1036","tecnomenAccountStatus":"2","tecnomenServiceStatus":"1"}}
2024-05-27 17:44:34,636 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] El tipo de linea es: PREPAGO
2024-05-27 17:44:34,693 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:44:34,726 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Starting...
2024-05-27 17:44:34,726 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:44:34,850 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Start completed.
2024-05-27 17:44:34,902 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1]  Error = [Incorrect result size: expected 1, actual 0]
2024-05-27 17:44:34,936 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] No es posible migrar porque noEstaActivo
2024-05-27 17:44:52,733 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 17:44:52,734 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown initiated...
2024-05-27 17:44:52,923 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown completed.
2024-05-27 17:44:52,925 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown initiated...
2024-05-27 17:44:53,038 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown completed.
2024-05-27 17:44:53,039 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:44:53,041 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 17:44:53,120 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 17:45:01,585 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 15792 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 17:45:01,588 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 17:45:01,656 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 17:45:01,657 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 17:45:01,657 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 17:45:01,657 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 17:45:01,657 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 17:45:02,362 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 17:45:02,363 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 17:45:02,497 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 125ms. Found 2 JPA repository interfaces.
2024-05-27 17:45:03,061 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$fc6d0af] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 17:45:03,093 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 17:45:04,065 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 17:45:04,075 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 17:45:04,076 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 17:45:04,076 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 17:45:04,288 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 17:45:04,288 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2631 ms
2024-05-27 17:45:04,369 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 17:45:04,589 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 17:45:04,698 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 17:45:04,869 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 17:45:05,190 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 17:45:05,194 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:45:05,744 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 17:45:05,758 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 17:45:06,952 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 17:45:06,960 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:45:06,980 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:45:07,493 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:45:07,839 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 17:45:09,104 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 17:45:09,145 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 17:45:09,164 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 17:45:09,166 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 8.089 seconds (JVM running for 8.758)
2024-05-27 17:45:29,016 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 17:45:29,017 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 17:45:29,022 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 5 ms
2024-05-27 17:45:29,120 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] Obtener datos del cliente
2024-05-27 17:45:29,121 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] Obteniendo datos del cliente desde bscs...
2024-05-27 17:45:29,412 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Starting...
2024-05-27 17:45:29,413 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:45:29,710 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Start completed.
2024-05-27 17:45:29,822 INFO com.claro.proceso.migracion.pospago.api.models.bscs.mapper.ClientMapper [http-nio-8080-exec-1] ResultSet 0
2024-05-27 17:45:38,126 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] Es XT cambiando perfil
2024-05-27 17:45:42,554 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:45:42,555 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se valida el tipo de linea
2024-05-27 17:45:42,555 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest limpiando el cache en SPR...
2024-05-27 17:45:42,803 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se limpió el cache en SPR {"code":0,"description":"Successful Transaction"}
2024-05-27 17:45:42,804 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest Obteniendo resultado en SPR...
2024-05-27 17:45:43,016 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Response de consulta SPR {"exitStatus":{"code":0,"description":"Successful Transaction"},"paymentMethodInd":"A","iso3166":"GT","imsi":"704012067371244","transactionId":"195d4323-9ec4-4ca0-8ef9-f6dd35367a3f","parameters":{"companyRange.companyId":"3","companyRange.companyName":"CLARO GT","companyRange.max":"50255179999","companyRange.min":"50255110000","isBroadband":"false","isDTHProfileId":"false","isIFI":"false","isMigrated":"true","platform":["TECNOMEN"],"profileId":"1036","tecnomenAccountStatus":"2","tecnomenServiceStatus":"1"}}
2024-05-27 17:45:43,020 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] El tipo de linea es: PREPAGO
2024-05-27 17:45:43,051 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:45:43,065 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Starting...
2024-05-27 17:45:43,065 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:45:43,186 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Start completed.
2024-05-27 17:45:43,239 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1]  Error = [Incorrect result size: expected 1, actual 0]
2024-05-27 17:45:43,272 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] No es posible migrar porque noEstaActivo
2024-05-27 17:53:01,161 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 17:53:01,162 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown initiated...
2024-05-27 17:53:01,226 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown completed.
2024-05-27 17:53:01,227 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown initiated...
2024-05-27 17:53:01,375 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown completed.
2024-05-27 17:53:01,375 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:53:01,376 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 17:53:01,440 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2024-05-27 17:53:09,918 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PospagoPrepagoMigracionApplication on E-5CG2404HGG with PID 6116 (started by elcvari in C:\Users\elcvari\OneDrive - Ericsson\Documents\Claro\Back\pospago-prepago-migracion)
2024-05-27 17:53:09,921 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-05-27 17:53:09,987 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\oracle\database\jdbc\ojdbc8\23.3.0.23.09\ojdbc8-23.3.0.23.09.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/oracle/database/jdbc/ojdbc8/23.3.0.23.09/oraclepki.jar
2024-05-27 17:53:09,987 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\com\sun\xml\bind\jaxb-impl\2.2.3-1\jaxb-impl-2.2.3-1.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/activation.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jsr173_1.0_api.jar,file:/C:/Users/elcvari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb1-impl.jar
2024-05-27 17:53:09,987 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\elcvari\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/elcvari/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2024-05-27 17:53:09,988 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-27 17:53:09,988 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-05-27 17:53:10,666 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2024-05-27 17:53:10,666 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-27 17:53:10,845 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 169ms. Found 2 JPA repository interfaces.
2024-05-27 17:53:11,424 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$1c25001d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-05-27 17:53:11,451 INFO org.springframework.ws.soap.addressing.server.AbstractAddressingEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-05-27 17:53:12,389 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2024-05-27 17:53:12,401 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-05-27 17:53:12,402 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-05-27 17:53:12,402 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.31]
2024-05-27 17:53:12,600 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-05-27 17:53:12,600 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2612 ms
2024-05-27 17:53:12,687 INFO com.claro.proceso.migracion.pospago.api.config.MactpreDB [restartedMain] Iniciando conexión por Jdbc JPA...
2024-05-27 17:53:12,911 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-27 17:53:13,013 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.12.Final
2024-05-27 17:53:13,199 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2024-05-27 17:53:13,494 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-05-27 17:53:13,498 WARN com.zaxxer.hikari.util.DriverDataSource [restartedMain] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:53:14,020 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-05-27 17:53:14,047 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect
2024-05-27 17:53:15,249 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-27 17:53:15,257 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:53:15,274 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:53:15,755 INFO com.claro.proceso.migracion.pospago.api.config.JdbcDBsConfig [restartedMain] Iniciando conexión por jdbc...
2024-05-27 17:53:16,087 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2024-05-27 17:53:17,245 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-05-27 17:53:17,259 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-05-27 17:53:17,276 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2024-05-27 17:53:17,279 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PospagoPrepagoMigracionApplication in 7.907 seconds (JVM running for 8.548)
2024-05-27 17:53:29,563 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-27 17:53:29,564 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-05-27 17:53:29,571 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 7 ms
2024-05-27 17:53:29,716 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] Obtener datos del cliente
2024-05-27 17:53:29,716 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] Obteniendo datos del cliente desde bscs...
2024-05-27 17:53:29,997 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Starting...
2024-05-27 17:53:29,997 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:53:30,226 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-2 - Start completed.
2024-05-27 17:53:30,314 INFO com.claro.proceso.migracion.pospago.api.models.bscs.mapper.ClientMapper [http-nio-8080-exec-1] ResultSet 0
2024-05-27 17:53:44,106 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] Es XT cambiando perfil
2024-05-27 17:53:46,860 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:53:46,861 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se valida el tipo de linea
2024-05-27 17:53:46,861 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest limpiando el cache en SPR...
2024-05-27 17:53:47,117 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Se limpió el cache en SPR {"code":0,"description":"Successful Transaction"}
2024-05-27 17:53:47,118 INFO com.claro.proceso.migracion.pospago.api.services.wsrequests.impl.WebRequestsServicesImpl [http-nio-8080-exec-1] WebRequest Obteniendo resultado en SPR...
2024-05-27 17:53:47,305 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] Response de consulta SPR {"exitStatus":{"code":0,"description":"Successful Transaction"},"paymentMethodInd":"A","iso3166":"GT","imsi":"704012067371244","transactionId":"fd970de8-e00c-46e0-8fd3-146f87f96e43","parameters":{"companyRange.companyId":"3","companyRange.companyName":"CLARO GT","companyRange.max":"50255179999","companyRange.min":"50255110000","isBroadband":"false","isDTHProfileId":"false","isIFI":"false","isMigrated":"true","platform":["TECNOMEN"],"profileId":"1036","tecnomenAccountStatus":"2","tecnomenServiceStatus":"1"}}
2024-05-27 17:53:47,309 INFO com.claro.proceso.migracion.pospago.api.services.migration.impl.MigrationFlowServiceImpl [http-nio-8080-exec-1] El tipo de linea es: PREPAGO
2024-05-27 17:53:47,367 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1] No se encontró Imei ni Imsi para el msisdn 50255160703
2024-05-27 17:53:47,399 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Starting...
2024-05-27 17:53:47,399 WARN com.zaxxer.hikari.util.DriverDataSource [http-nio-8080-exec-1] Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2024-05-27 17:53:47,527 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8080-exec-1] HikariPool-3 - Start completed.
2024-05-27 17:53:47,591 INFO com.claro.proceso.migracion.pospago.api.services.bscs.impl.BscsServiceImpl [http-nio-8080-exec-1]  Error = [Incorrect result size: expected 1, actual 0]
2024-05-27 17:53:47,634 INFO com.claro.proceso.migracion.pospago.api.controllers.BscsDataGatherController [http-nio-8080-exec-1] No es posible migrar porque noEstaActivo
2024-05-27 17:55:48,979 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-27 17:55:48,979 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown initiated...
2024-05-27 17:55:49,040 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-3 - Shutdown completed.
2024-05-27 17:55:49,041 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown initiated...
2024-05-27 17:55:49,196 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-2 - Shutdown completed.
2024-05-27 17:55:49,196 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-27 17:55:49,197 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2024-05-27 17:55:49,239 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
